<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Content-Style-Type" content="text/css" />
	<meta http-equiv="Content-Script-Type" content="text/javascript" />
	<meta http-equiv="imagetoolbar" content="no" />
	<meta name="description" content="" />
	<meta name="keywords" content="" />
	<link rel="stylesheet" href="../../css/common.css" type="text/css" />
	<link type="text/css" rel="stylesheet" href="../../css/styles/shCoreDefault.css"/>
	<script type="text/javascript" src="../../css/scripts/shCore.js"></script>
	<script type="text/javascript" src="../../css/scripts/shBrushBash.js"></script>
  <script type="text/javascript" src="../../css/scripts/shBrushCpp.js"></script>
  <script type="text/javascript" src="../../css/scripts/shBrushPlain.js"></script>
	<script type="text/javascript">SyntaxHighlighter.all();</script>
	<title>CMakeの使用方法</title>
	<!-- google analityics -->
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-35918686-1']);
	  _gaq.push(['_trackPageview']);
	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
	<!-- google analityics end -->
</head>
<body>
<div id="top">
<div id="contents">
 <h2>CMakeの使用方法 (<a href="../../dev_tips.html">全体の目次に戻る</a>)</h2>
 一般的にC/C++のプログラムを書く際は、複数のソースコードを分割して作成しておきます．
 このとき、分割されたソースコードを人間が一つ一つ指定してコンパイルするのは骨が折れますね．
 CMakeの優れる点は、簡単な設定を行うだけでそれらを自動的に行ってくれる点です．
 また、更新されたソースコードのみをコンパイルするため、コンパイル時間が大幅に短縮されます．
 </br></br>

<h3 id="Linux">CMakeの実行方法</h3>
CMakeの説明については他のサイトに任せるとして、ここではその使用方法について説明します．
はじめに下記の二つのファイルを同じディレクトリ上に保存してください．</br>
<b>CMakeLists.txt</b>:
<pre class="brush: bash;">
cmake_minimum_required(VERSION 2.8)
add_definitions("-std=c++11 -Wall -O3 -march=native")
add_executable(main test.cc)
</pre>
<b>test.cc</b>:
<pre class="brush: cpp;">
#include &lt;iostream&gt;
int main(void) {
  std::cout &lt;&lt; "test" &lt;&lt; std::endl;
  return 0;
}
</pre>

これらのファイルと同じディレクトリ上で以下が実行できればCMakeは正しく動いています．
<pre class="brush: bash;">
cmake . # build環境構築
make    # build
./main  # 実行
</pre>
なお、cmakeの挙動がおかしい場合は「<font color="red">CMakeCache.txt</font>」というファイルを一度削除してから、もう一度 cmake を実行して下さい．
それでも実行できない場合は「make clean」を実行するか、「CMakeFiles」というフォルダを削除してください．

 </div><!-- /#contents-->

 <div id="pageTop">
   <a href="#top">このページのトップへ戻る</a>
 </div><!-- /#pageTop-->
 <div id="footer">
   <div class="copyright">Copyright &copy; 2015 S.Suzumura Rights Reserved.</div>
 </div><!-- /#footer-->
</div><!-- /#top-->
</body>
</html>
